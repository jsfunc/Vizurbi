debug_mode=true;inactiveNodeColor="gray";function setCookie(b,f,c){c=c||30;var e=new Date();e.setTime(e.getTime()+(c*24*60*60*1000));var a="expires="+e.toUTCString();document.cookie=b+"="+f+"; "+a}function getCookie(d){var b=d+"=";var a=document.cookie.split(";");for(var e=0;e<a.length;e++){var f=a[e];while(f.charAt(0)==" "){f=f.substring(1)}if(f.indexOf(b)!=-1){return f.substring(b.length,f.length)}}return""}function byte2Hex(a){var c=Math.round(a);var b="0123456789ABCDEF";return String(b.substr((c>>4)&15,1))+b.substr(c&15,1)}function val2color(h){var d,i;if(h<=0.5){d="#00D300";i="#FFFF00";h=2*h}else{h=2*h-1;d="#FFFF00";i="#FF0000";h=0.7*h}var c=parseInt(d.substr(1,2),16);var g=parseInt(i.substr(1,2),16);var b=parseInt(d.substr(3,2),16);var f=parseInt(i.substr(3,2),16);var a=parseInt(d.substr(5,2),16);var e=parseInt(i.substr(5,2),16);return("#"+byte2Hex(c+(g-c)*h)+byte2Hex(b+(f-b)*h)+byte2Hex(a+(e-a)*h))}function readTime(a){return(Number(a.substring(0,2))+Number(a.substring(3,5))/60)}function real2hour(b){var e=Math.floor(b);var d=Math.round(60*(b-e));if(d==60){++e;d=0}var c=Math.floor(d/10);var a=d-10*c;return((e%24)+"h"+c+a)}function distance(k,j){var f=6371;var g=(j.lat-k.lat)/180*Math.PI;var b=(j.lng-k.lng)/180*Math.PI;var e=j.lat/180*Math.PI;var d=j.lat/180*Math.PI;var i=Math.sin(g/2)*Math.sin(g/2)+Math.sin(b/2)*Math.sin(b/2)*Math.cos(e)*Math.cos(d);var h=2*Math.atan2(Math.sqrt(i),Math.sqrt(1-i));return(f*h)}function readDate(){var a={Mon:0,Tue:1,Wed:2,Thu:3,Fri:4,Sat:5,Sun:6};date=$.datepicker.formatDate("yymmdd",$("#datepicker").datepicker("getDate"));weekDay=a[$.datepicker.formatDate("D",$("#datepicker").datepicker("getDate"))]}function getPath(b){if(comesFrom[b].stopId>=0){var a=getPath(comesFrom[b].stopId);a.push({stopId:b,subRouteId:comesFrom[b].subRouteId});return(a)}else{return([{stopId:b,subRouteId:-1}])}}function getDetailedStopSequence(c){if(comesFrom[c].stopId>=0){var a=getDetailedStopSequence(comesFrom[c].stopId);if(comesFrom[c].subRouteId>=0){var b=0;var d=subRoutes[comesFrom[c].subRouteId].stops;while((b<d.length)&&(d[b]!=comesFrom[c].stopId)){b++}while((++b<d.length)&&(d[b]!=c)){a.push(d[b])}}a.push(c);return(a)}else{return([c])}};