(function(p){var n=!p.document,j;var t={},r=0;var b={delimiter:"",header:false,dynamicTyping:false,preview:0,step:undefined,encoding:"",worker:false,comments:false,complete:undefined,error:undefined,download:false,chunk:undefined,keepEmptyRows:false};p.Papa={};p.Papa.parse=f;p.Papa.unparse=i;p.Papa.RECORD_SEP=String.fromCharCode(30);p.Papa.UNIT_SEP=String.fromCharCode(31);p.Papa.BYTE_ORDER_MARK="\ufeff";p.Papa.BAD_DELIMITERS=["\r","\n",'"',p.Papa.BYTE_ORDER_MARK];p.Papa.WORKERS_SUPPORTED=!!p.Worker;p.Papa.LocalChunkSize=1024*1024*10;p.Papa.RemoteChunkSize=1024*1024*5;p.Papa.DefaultDelimiter=",";p.Papa.Parser=c;p.Papa.ParserHandle=s;p.Papa.NetworkStreamer=k;p.Papa.FileStreamer=m;if(p.jQuery){var e=p.jQuery;e.fn.parse=function(y){var x=y.config||{};var v=[];this.each(function(B){var A=e(this).prop("tagName").toUpperCase()=="INPUT"&&e(this).attr("type").toLowerCase()=="file"&&p.FileReader;if(!A||!this.files||this.files.length==0){return true}for(var C=0;C<this.files.length;C++){v.push({file:this.files[C],inputElem:this,instanceConfig:e.extend({},x)})}});z();return this;function z(){if(v.length==0){return}var C=v[0];if(a(y.before)){var B=y.before(C.file,C.inputElem);if(typeof B==="object"){if(B.action=="abort"){w("AbortError",C.file,C.inputElem,B.reason);return}else{if(B.action=="skip"){u();return}else{if(typeof B.config==="object"){C.instanceConfig=e.extend(C.instanceConfig,B.config)}}}}else{if(B=="skip"){u();return}}}var A=C.instanceConfig.complete;C.instanceConfig.complete=function(D){if(a(A)){A(D,C.file,C.inputElem)}u()};Papa.parse(C.file,C.instanceConfig)}function w(A,B,C,D){if(a(y.error)){y.error({name:A},B,C,D)}}function u(){v.splice(0,1);z()}}}if(n){p.onmessage=l}else{if(Papa.WORKERS_SUPPORTED){j=q()}}function f(E,A){var v=n?A:h(A);var u=v.worker&&Papa.WORKERS_SUPPORTED&&j;if(u){var D=g();D.userStep=v.step;D.userChunk=v.chunk;D.userComplete=v.complete;D.userError=v.error;v.step=a(v.step);v.chunk=a(v.chunk);v.complete=a(v.complete);v.error=a(v.error);delete v.worker;D.postMessage({input:E,config:v,workerId:D.id})}else{if(typeof E==="string"){if(v.download){var B=new k(v);B.stream(E)}else{var z=new s(v);var x=z.parse(E);return x}}else{if(E instanceof File){if(v.step||v.chunk){var B=new m(v);B.stream(E)}else{var z=new s(v);if(n){var y=new FileReaderSync();var C=y.readAsText(E,v.encoding);return z.parse(C)}else{y=new FileReader();y.onload=function(F){var G=new s(v);var w=G.parse(F.target.result)};y.onerror=function(){if(a(v.error)){v.error(y.error,E)}};y.readAsText(E,v.encoding)}}}}}}function i(D,B){var C="";var F=[];var v=false;var y=",";var w="\r\n";A();if(typeof D==="string"){D=JSON.parse(D)}if(D instanceof Array){if(!D.length||D[0] instanceof Array){return E(null,D)}else{if(typeof D[0]==="object"){return E(z(D[0]),D)}}}else{if(typeof D==="object"){if(typeof D.data==="string"){D.data=JSON.parse(D.data)}if(D.data instanceof Array){if(!D.fields){D.fields=D.data[0] instanceof Array?D.fields:z(D.data[0])}if(!(D.data[0] instanceof Array)&&typeof D.data[0]!=="object"){D.data=[D.data]}}return E(D.fields||[],D.data||[])}}throw"exception: Unable to serialize unrecognized input";function A(){if(typeof B!=="object"){return}if(typeof B.delimiter==="string"&&B.delimiter.length==1&&p.Papa.BAD_DELIMITERS.indexOf(B.delimiter)==-1){y=B.delimiter}if(typeof B.quotes==="boolean"||B.quotes instanceof Array){v=B.quotes}if(typeof B.newline==="string"){w=B.newline}}function z(I){if(typeof I!=="object"){return[]}var H=[];for(var G in I){H.push(G)}return H}function E(M,J){var H="";if(typeof M==="string"){M=JSON.parse(M)}if(typeof J==="string"){J=JSON.parse(J)}var L=M instanceof Array&&M.length>0;var N=!(J[0] instanceof Array);if(L){for(var K=0;K<M.length;K++){if(K>0){H+=y}H+=x(M[K],K)}if(J.length>0){H+=w}}for(var P=0;P<J.length;P++){var O=L?M.length:J[P].length;for(var G=0;G<O;G++){if(G>0){H+=y}var I=L&&N?M[G]:G;H+=x(J[P][I],G)}if(P<J.length-1){H+=w}}return H}function x(I,G){if(typeof I==="undefined"||I===null){return""}I=I.toString().replace(/"/g,'""');var H=(typeof v==="boolean"&&v)||(v instanceof Array&&v[G])||u(I,p.Papa.BAD_DELIMITERS)||I.indexOf(y)>-1||I.charAt(0)==" "||I.charAt(I.length-1)==" ";return H?'"'+I+'"':I}function u(I,H){for(var G=0;G<H.length;G++){if(I.indexOf(H[G])>-1){return true}}return false}}function k(x){x=x||{};if(!x.chunkSize){x.chunkSize=Papa.RemoteChunkSize}var B=0,v=0;var y="";var w="";var A,u;var z=new s(o(x));this.stream=function(E){if(n){u=function(){D();C()}}else{u=function(){D()}}u();function D(){A=new XMLHttpRequest();if(!n){A.onload=C;A.onerror=F}A.open("GET",E,!n);if(x.step){var H=B+x.chunkSize-1;if(v&&H>v){H=v}A.setRequestHeader("Range","bytes="+B+"-"+H)}A.send();if(n&&A.status==0){F()}else{B+=x.chunkSize}}function C(){if(A.readyState!=4){return}if(A.status<200||A.status>=400){F();return}y+=w+A.responseText;w="";var J=!x.step||B>G(A);if(!J){var H=y.lastIndexOf("\n");if(H<0){H=y.lastIndexOf("\r")}if(H>-1){w=y.substring(H+1);y=y.substring(0,H)}else{u();return}}var I=z.parse(y);y="";if(n){p.postMessage({results:I,workerId:Papa.WORKER_ID,finished:J})}else{if(a(x.chunk)){x.chunk(I);I=undefined}}if(!J&&!I.meta.paused){u()}}function F(){if(a(x.error)){x.error(A.statusText)}else{if(n&&x.error){p.postMessage({workerId:Papa.WORKER_ID,error:A.statusText,finished:false})}}}function G(I){var H=I.getResponseHeader("Content-Range");return parseInt(H.substr(H.lastIndexOf("/")+1))}}}function m(w){w=w||{};if(!w.chunkSize){w.chunkSize=Papa.LocalChunkSize}var u=0;var v="";var A="";var x,z,C;var y=new s(o(w));var B=typeof FileReader==="function";this.stream=function(G){var I=G.slice||G.webkitSlice||G.mozSlice;if(B){x=new FileReader();x.onload=E;x.onerror=H}else{x=new FileReaderSync()}D();function D(){if(u<G.size){F()}}function F(){var K=Math.min(u+w.chunkSize,G.size);var J=x.readAsText(I.call(G,u,K),w.encoding);if(!B){E({target:{result:J}})}}function E(L){u+=w.chunkSize;v+=A+L.target.result;A="";var M=u>=G.size;if(!M){var J=v.lastIndexOf("\n");if(J<0){J=v.lastIndexOf("\r")}if(J>-1){A=v.substring(J+1);v=v.substring(0,J)}else{D();return}}var K=y.parse(v);v="";if(n){p.postMessage({results:K,workerId:Papa.WORKER_ID,finished:M})}else{if(a(w.chunk)){w.chunk(K,G);K=undefined}}if(!M&&!K.meta.paused){D()}}function H(){if(a(w.error)){w.error(x.error,G)}else{if(n&&w.error){p.postMessage({workerId:Papa.WORKER_ID,error:x.error,file:G,finished:false})}}}}}function s(C){var I=/^\s*-?(\d*\.?\d+|\d+\.?\d*)(e[-+]?\d+)?\s*$/i;var G=this;var F;var A;var x=false;var B;var J=[];var w={data:[],errors:[],meta:{}};C=o(C);this.parse=function(L){B=false;if(!C.delimiter){var K=E(L);if(K.successful){C.delimiter=K.bestDelimiter}else{B=true;C.delimiter=Papa.DefaultDelimiter}w.meta.delimiter=C.delimiter}if(a(C.step)){var M=C.step;C.step=function(N){w=N;if(z()){v()}else{M(v(),G)}}}if(C.preview&&C.header){C.preview++}F=L;A=new c(C);w=A.parse(F);v();if(a(C.complete)&&!x){C.complete(w)}return x?{meta:{paused:true}}:w};this.pause=function(){x=true;A.abort();F=F.substr(A.getCharIndex())};this.resume=function(){x=false;A=new c(C);A.parse(F);if(a(C.complete)&&!x){C.complete(w)}};this.abort=function(){A.abort();if(a(C.complete)){C.complete(w)}F=""};function v(){if(w&&B){H("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+Papa.DefaultDelimiter+"'");B=false}if(z()){u()}return D()}function z(){return C.header&&J.length==0}function u(){if(!w){return}for(var L=0;z()&&L<w.data.length;L++){for(var K=0;K<w.data[L].length;K++){J.push(w.data[L][K])}}w.data.splice(0,1)}function D(){if(!w||(!C.header&&!C.dynamicTyping)){return w}for(var L=0;L<w.data.length;L++){var N={};for(var K=0;K<w.data[L].length;K++){if(C.dynamicTyping){var M=w.data[L][K];if(M=="true"){w.data[L][K]=true}else{if(M=="false"){w.data[L][K]=false}else{w.data[L][K]=y(M)}}}if(C.header){if(K>=J.length){if(!N.__parsed_extra){N.__parsed_extra=[]}N.__parsed_extra.push(w.data[L][K])}else{N[J[K]]=w.data[L][K]}}}if(C.header){w.data[L]=N;if(K>J.length){H("FieldMismatch","TooManyFields","Too many fields: expected "+J.length+" fields but parsed "+K,L)}else{if(K<J.length){H("FieldMismatch","TooFewFields","Too few fields: expected "+J.length+" fields but parsed "+K,L)}}}}if(C.header&&w.meta){w.meta.fields=J}return w}function E(Q){var R=[",","\t","|",";",Papa.RECORD_SEP,Papa.UNIT_SEP];var L,U,P;for(var N=0;N<R.length;N++){var K=R[N];var T=0,V=0;P=undefined;var O=new c({delimiter:K,preview:10}).parse(Q);for(var M=0;M<O.data.length;M++){var S=O.data[M].length;V+=S;if(typeof P==="undefined"){P=S;continue}else{if(S>1){T+=Math.abs(S-P);P=S}}}V/=O.data.length;if((typeof U==="undefined"||T<U)&&V>1.99){U=T;L=K}}C.delimiter=L;return{successful:!!L,bestDelimiter:L}}function y(L){var K=I.test(L);return K?parseFloat(L):L}function H(K,L,N,M){w.errors.push({type:K,code:L,message:N,row:M})}}function c(W){var y=/^\s*$/;var v;var I;var O;var R;var F;var ah;var P;var ac;var V;var ad;var af;var U;var D;var ae;var A;var H=false;W=W||{};I=W.delimiter;O=W.comments;R=W.step;ah=W.preview;if(typeof I!=="string"||I.length!=1||Papa.BAD_DELIMITERS.indexOf(I)>-1){I=","}if(O===true){O="#"}else{if(typeof O!=="string"||O.length!=1||Papa.BAD_DELIMITERS.indexOf(O)>-1||O==I){O=false}}this.parse=function(ai){if(typeof ai!=="string"){throw"Input must be a string"}Y(ai);return T()};this.abort=function(){H=true};this.getCharIndex=function(){return ac};function T(){while(ac<v.length){if(H){break}if(ah>0&&A>=ah){break}if(P=='"'){Q()}else{if(V){E()}else{J()}}S()}return C()}function S(){ac++;P=v[ac]}function C(){if(H){X("Abort","ParseAbort","Parsing was aborted by the user's step function")}if(V){X("Quotes","MissingQuotes","Unescaped or mismatched quotes")}x();if(!a(R)){return ag()}}function Q(){if(K()&&!w()){V=!V}else{z();if(V&&w()){ac++}else{X("Quotes","UnexpectedQuotes","Unexpected quotes")}}}function E(){if(L(ac)||ab(ac)){ad++}z()}function J(){if(P==I){G()}else{if(L(ac)){u();S()}else{if(ab(ac)){u()}else{if(B()){aa()}else{z()}}}}}function B(){if(!O){return false}var ai=ac==0||ab(ac-1)||L(ac-2);return ai&&v[ac]===O}function aa(){while(!L(ac)&&!ab(ac)&&ac<v.length){S()}}function z(){af[D][ae]+=P}function G(){af[D].push("");ae=af[D].length-1}function u(){x();ad++;A++;af.push([]);D=af.length-1;G()}function x(){M();if(a(R)){if(af[D]){R(ag())}N()}}function M(){if(af[D].length==1&&y.test(af[D][0])){if(W.keepEmptyRows){af[D].splice(0,1)}else{af.splice(D,1)}D=af.length-1}}function L(ai){return ai<v.length-1&&((v[ai]=="\r"&&v[ai+1]=="\n")||(v[ai]=="\n"&&v[ai+1]=="\r"))}function ab(ai){return v[ai]=="\r"||v[ai]=="\n"}function w(){return !K()&&ac<v.length-1&&v[ac+1]=='"'}function K(){return(!V&&Z(ac-1))||Z(ac+1)}function Z(ai){if(typeof ai!="number"){ai=ac}var aj=v[ai];return(ai<=-1||ai>=v.length)||(aj==I||aj=="\r"||aj=="\n")}function X(ai,aj,ak){U.push({type:ai,code:aj,message:ak,line:ad,row:D,index:ac})}function Y(ai){v=ai;V=false;ac=0,A=0,ad=1;N();af=[[""]];P=v[ac]}function N(){af=[];U=[];D=0;ae=0}function ag(){return{data:af,errors:U,meta:{lines:ad,delimiter:I,aborted:H,truncated:ah>0&&ac<v.length}}}}function q(){var u="worker"+String(Math.random()).substr(2);document.write('<script id="'+u+'"><\/script>');return document.getElementById(u).previousSibling.src}function g(){if(!Papa.WORKERS_SUPPORTED){return false}var u=new p.Worker(j);u.onmessage=d;u.id=r++;t[u.id]=u;return u}function d(v){var x=v.data;var w=t[x.workerId];if(x.error){w.userError(x.error,x.file)}else{if(x.results&&x.results.data){if(a(w.userStep)){for(var u=0;u<x.results.data.length;u++){w.userStep({data:[x.results.data[u]],errors:x.results.errors,meta:x.results.meta})}delete x.results}else{if(a(w.userChunk)){w.userChunk(x.results,x.file);delete x.results}}}}if(x.finished){if(a(t[x.workerId].userComplete)){t[x.workerId].userComplete(x.results)}t[x.workerId].terminate();delete t[x.workerId]}}function l(v){var w=v.data;if(typeof Papa.WORKER_ID==="undefined"&&w){Papa.WORKER_ID=w.workerId}if(typeof w.input==="string"){p.postMessage({workerId:Papa.WORKER_ID,results:Papa.parse(w.input,w.config),finished:true})}else{if(w.input instanceof File){var u=Papa.parse(w.input,w.config);if(u){p.postMessage({workerId:Papa.WORKER_ID,results:u,finished:true})}}}}function h(u){if(typeof u!=="object"){u={}}var v=o(u);if(typeof v.delimiter!=="string"||v.delimiter.length!=1||Papa.BAD_DELIMITERS.indexOf(v.delimiter)>-1){v.delimiter=b.delimiter}if(typeof v.header!=="boolean"){v.header=b.header}if(typeof v.dynamicTyping!=="boolean"){v.dynamicTyping=b.dynamicTyping}if(typeof v.preview!=="number"){v.preview=b.preview}if(typeof v.step!=="function"){v.step=b.step}if(typeof v.complete!=="function"){v.complete=b.complete}if(typeof v.error!=="function"){v.error=b.error}if(typeof v.encoding!=="string"){v.encoding=b.encoding}if(typeof v.worker!=="boolean"){v.worker=b.worker}if(typeof v.download!=="boolean"){v.download=b.download}if(typeof v.keepEmptyRows!=="boolean"){v.keepEmptyRows=b.keepEmptyRows}return v}function o(w){if(typeof w!=="object"){return w}var u=w instanceof Array?[]:{};for(var v in w){u[v]=o(w[v])}return u}function a(u){return typeof u==="function"}})(this);